// Modern form card styling based on scratch2.html
.modern-form-card {
  border-radius: 1.5rem !important;
  box-shadow: 0 4px 20px -2px rgba(0, 0, 0, 0.05) !important;
  border: 1px solid #e0f2fe !important;
  overflow: hidden !important;
  max-width: 1200px;
  width: 100%;
  background-color: #ffffff !important;
}

.modern-form-header {
  padding: 2rem !important;
  border-bottom: 1px solid #e0f2fe !important;
  background-color: #ffffff !important;
  margin-bottom: 0 !important;
}

.modern-form-title {
  font-size: 1.875rem !important;
  font-weight: 700 !important;
  color: #0f172a !important;
  margin-bottom: 0.5rem !important;
  letter-spacing: -0.025em;

  @media (max-width: 768px) {
    font-size: 1.5rem !important;
  }
}

.modern-form-subtitle {
  color: #64748b !important;
  font-size: 1rem !important;
  margin-bottom: 0 !important;
  font-weight: 400 !important;
}

// Skeleton loader styling
.skeleton-stepper-container {
  padding: 1.5rem 2rem;
  background-color: rgba(248, 250, 252, 0.5);
  border-bottom: 1px solid #e0f2fe;
  border-top: 1px solid #e0f2fe;

  @media (max-width: 768px) {
    padding: 1rem;

    .d-flex {
      flex-direction: column !important;
      gap: 1rem;
    }
  }
}

.modern-stepper {
  background-color: transparent !important;

  ::ng-deep {
    // Stepper header container
    .mat-horizontal-stepper-header-container,
    .mat-vertical-stepper-header {
      padding: 1.5rem 2rem !important;
      background-color: rgba(248, 250, 252, 0.5) !important;
      border-bottom: 1px solid #e0f2fe !important;
      position: relative;
      display: flex;
      justify-content: space-between;

      .mat-stepper-horizontal-line {
        display: none !important;
      }
    }

    // Step header styling
    .mat-step-header {
      padding: 0.75rem 1rem !important;
      background-color: rgba(248, 250, 252, 0.5) !important;
      border-radius: 0.5rem !important;
      margin: 0 0.5rem !important;
      transition: all 0.2s ease !important;

      &.cdk-keyboard-focused,
      &.cdk-program-focused,
      &:hover:not([aria-disabled="true"]) {
        background-color: rgba(236, 254, 255, 0.5) !important;
      }

      // Active step
      &[aria-selected="true"] {
        .mat-step-icon {
          background-color: #2563eb !important;
          color: white !important;
          box-shadow: 0 0 0 4px rgba(255, 255, 255, 1) !important;
        }

        .mat-step-label {
          color: #0f172a !important;
          font-weight: 600 !important;
        }

        opacity: 1 !important;
      }

      // Completed step
      &.mat-step-header-completed {
        .mat-step-icon {
          background-color: #0e7490 !important;
          box-shadow: 0 0 0 4px rgba(255, 255, 255, 1) !important;
        }

        opacity: 1 !important;
      }

      // Inactive/future steps
      &[aria-selected="false"]:not(.mat-step-header-completed) {
        opacity: 0.6;

        .mat-step-icon {
          background-color: #475569 !important;
          box-shadow: 0 0 0 4px rgba(255, 255, 255, 1) !important;
        }

        .mat-step-label {
          color: #64748b !important;
          font-weight: 500 !important;
        }
      }
    }

    // Step icon styling
    .mat-step-icon {
      width: 2rem !important;
      height: 2rem !important;
      border-radius: 50% !important;
      font-weight: 700 !important;
      font-size: 0.875rem !important;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;
      margin-right: 0.5rem !important;
    }

    // Step label
    .mat-step-label {
      font-size: 0.875rem !important;
      font-weight: 500 !important;
      min-width: auto !important;
      transition: all 0.2s ease !important;
    }

    .mat-step-text-label {
      text-overflow: ellipsis;
      overflow: hidden;
    }

    // Connector line between steps
    .mat-stepper-horizontal-line {
      border-top-width: 2px !important;
      border-top-color: #cbd5e1 !important;
      margin: 0 -0.5rem !important;
      top: 50% !important;
      position: relative;
      border-radius: 2px;
    }

    // Step content area
    .mat-horizontal-content-container,
    .mat-vertical-content-container {
      padding: 2rem !important;
      background-color: #ffffff !important;
    }

    // Mobile vertical stepper
    @media (max-width: 768px) {
      .mat-vertical-stepper-header {
        padding: 1rem !important;
      }

      .mat-vertical-content-container {
        padding: 1.5rem !important;
      }

      .mat-step-header {
        margin: 0.25rem 0 !important;
      }
    }
  }
}

